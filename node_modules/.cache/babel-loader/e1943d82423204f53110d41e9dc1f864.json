{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vchava\\\\OneDrive - MODEL N, INC\\\\Desktop\\\\mp_front\\\\MealPlanner_FrontEnd\\\\src\\\\components\\\\FinanaceTeam\\\\EmployeeDetsils.jsx\";\nimport React, { useState } from 'react';\nimport '../Vender/css/App.css';\nimport Employee from './data/Employee';\nimport MealDetails from './data/MealDetails';\nimport DownloadErrorDialog, { ConfirmDownload } from './DownloadErrorDialog';\nimport Footer from './footer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar SelectedEmployees = [];\nvar Users = [];\nvar ShowUsers = [];\nlet TABLE_HEAD = ['Employee ID', 'Name', 'Email', 'No of Meals', 'Total money'];\nvar TEMPORERY_SIZE = 12;\nexport default class EmployeeMealDetails extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      users: [],\n      ShowUsers: [],\n      searchBy: 'Employee ID',\n      openDownloadErrorDialog: false,\n      pageNo: 1,\n      startPage: 1,\n      endPage: 10,\n      pageSize: 5,\n      confirmDialog: false\n    };\n    this.search = this.search.bind(this);\n    this.search = this.search.bind(this);\n    this.downloadReport = this.downloadReport.bind(this);\n    this.closeDownloadError = this.closeDownloadError.bind(this);\n    this.downloadHelper = this.downloadHelper.bind(this);\n    this.selectSearchType = this.selectSearchType.bind(this);\n    this.selectRowsPerPage = this.selectRowsPerPage.bind(this);\n    this.getData = this.getData.bind(this);\n    this.nextPage = this.nextPage.bind(this);\n    this.closeConfirmDialog = this.closeConfirmDialog.bind(this);\n    this.backward = this.backward.bind(this);\n    this.previousPage = this.previousPage.bind(this);\n    this.forward = this.forward.bind(this);\n  }\n\n  componentDidMount() {\n    this.getData(this.state.pageNo, this.state.pageSize);\n  }\n\n  getData(pageNo, pageSize) {\n    console.log(pageNo, pageSize);\n    MealDetails.getEmployeeMealDates(pageNo, pageSize).then(Response => {\n      console.log(Response.data);\n      Response.data.content.map(user => {\n        user['noOfMeals'] = Math.floor(Math.random() * 30);\n\n        if (user['noOfMeals'] <= 12) {\n          user['totalMoney'] = 1000;\n        } else {\n          user['totalMoney'] = user['noOfMeals'] * 75;\n        }\n      });\n      this.setState({\n        users: Response.data.content\n      });\n      Users = this.state.users;\n    });\n  }\n  /**\r\n  * Search the employees based on employeeID\r\n  * Function defination:\r\n  *      First store all the employeeDetails in one global varible rather than state varibale then \r\n  *    whenever the vendor searchs the based on employeeID then remove all the employee other than the\r\n  *    that employeeID. If the search text is empty then all the employeeDetails will be displayed\r\n  *      {or}\r\n  *      Add keyboard event listner and remove the search button which will execute this event whenever \r\n  *    the vender releases key and then do the same procedure as in the above\r\n  */\n\n  /**\r\n   * Yet to be defined\r\n   */\n\n\n  search() {\n    let searchData = document.getElementById('searchData').value;\n    console.log('value..', searchData, this.state.users);\n\n    if (searchData == '' || searchData == undefined) {\n      this.state.users = Users;\n      this.setState({\n        ShowUsers: [0]\n      });\n      return;\n    }\n\n    this.state.users = [];\n\n    switch (this.state.searchBy) {\n      case \"Employee ID\":\n        for (let userNumber = 0; userNumber < Users.length; userNumber++) {\n          if (searchData != '' && String(Users[userNumber].id).includes(searchData)) {\n            this.state.users.push(Users[userNumber]);\n          }\n        }\n\n        break;\n\n      case \"Employee name\":\n        for (let userNumber = 0; userNumber < Users.length; userNumber++) {\n          if (Users[userNumber].employeeName.toUpperCase().includes(searchData.toUpperCase())) {\n            this.state.users.push(Users[userNumber]);\n          }\n        }\n\n        break;\n\n      case \"Employee email\":\n        for (let userNumber = 0; userNumber < Users.length; userNumber++) {\n          if (Users[userNumber].email.toUpperCase().includes(searchData.toUpperCase())) {\n            this.state.users.push(Users[userNumber]);\n          }\n        }\n\n        break;\n\n      case \"Total Money\":\n        for (let userNumber = 0; userNumber < Users.length; userNumber++) {\n          if (searchData != '' && String(Users[userNumber].totalMoney).includes(searchData)) {\n            this.state.users.push(Users[userNumber]);\n          }\n        }\n\n        break;\n\n      default:\n        console.log(\"In default\");\n        this.state.users = Users;\n        break;\n    }\n\n    this.setState({\n      ShowUsers: [0]\n    });\n    console.log(\"...\", this.state.users, searchData);\n  }\n\n  selectSearchType(e) {\n    this.setState({\n      searchBy: e.target.value\n    });\n    console.log(this.state.searchBy);\n  } //create a user-defined function to download CSV file \n\n\n  downloadReport() {\n    if (this.state.users.length == 0) {\n      this.setState({\n        openDownloadErrorDialog: true\n      });\n      console.log('downloading error');\n      return;\n    } else {\n      this.setState({\n        confirmDialog: true\n      });\n    }\n  }\n\n  closeConfirmDialog() {\n    this.setState({\n      confirmDialog: false\n    });\n  }\n\n  downloadHelper() {\n    var csvData = TABLE_HEAD[0]; //define the heading for each row of the data\n\n    for (let each = 1; each < TABLE_HEAD.length; each = each + 1) {\n      csvData = csvData + ',' + TABLE_HEAD[each];\n    }\n\n    csvData = csvData + '\\n';\n    let data = this.state.users;\n    Employee.getUsers().then(Response => {\n      Response.data.map(user => {\n        user['noOfMeals'] = Math.floor(Math.random() * 30);\n\n        if (user['noOfMeals'] <= 12) {\n          user['totalMoney'] = 1000;\n        } else {\n          user['totalMoney'] = user['noOfMeals'] * 75;\n        }\n      });\n      data = Response.data;\n      console.log(data);\n      console.log(this.state.users);\n      data.forEach(function (row) {\n        console.log(typeof row);\n        csvData += row.id + ',' + row.employeeName + ',' + row.email + ',' + row.noOfMeals + ',' + row.totalMoney + ',';\n        csvData += \"\\n\";\n      });\n      var hiddenElement = document.createElement('a');\n      hiddenElement.href = 'data:text/csv;charset=utf-8,' + encodeURI(csvData);\n      hiddenElement.target = '_blank'; //provide the name for the CSV file to be downloaded\n\n      hiddenElement.download = 'Meal Report.csv';\n      hiddenElement.click();\n    });\n  }\n\n  closeDownloadError() {\n    this.setState({\n      openDownloadErrorDialog: false\n    });\n  }\n\n  selectRowsPerPage(pageNo, selectedRows) {\n    this.state.pageSize = selectedRows;\n    console.log(\"rowsPerChange is Chaniging\");\n    this.getData(pageNo, selectedRows);\n  }\n\n  backward() {\n    if (this.state.pageNo - 2 > 0) {\n      this.state.pageNo = this.state.pageNo - 2;\n      this.getData(this.state.pageNo, this.state.selectedRows);\n    }\n  }\n\n  previousPage() {\n    if (this.state.pageNo - 1 > 0) {\n      this.state.pageNo = this.state.pageNo - 1;\n      this.getData(this.state.pageNo, this.state.pageSize);\n    }\n  } //Get the length of  data present in database\n\n\n  nextPage() {\n    console.log('change size to dynamic');\n\n    if (this.state.pageNo + 1 < TEMPORERY_SIZE) {\n      this.state.pageNo = this.state.pageNo + 1;\n      this.getData(this.state.pageNo, this.state.pageSize);\n    }\n  }\n\n  forward() {\n    console.log('change size to dynamic');\n\n    if (this.state.pageNo + 2 < TEMPORERY_SIZE) {\n      this.state.pageNo = this.state.pageNo + 2;\n      this.getData(this.state.pageNo, this.state.pageSize);\n    }\n  }\n\n  render() {\n    //console.log(\"This is in body page\")\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"employeeInformation\",\n        children: [/*#__PURE__*/_jsxDEV(\"link\", {\n          href: \"//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css\",\n          rel: \"stylesheet\",\n          id: \"bootstrap-css\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"script\", {\n          src: \"//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"script\", {\n          src: \"//code.jquery.com/jquery-1.11.1.min.js\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"searchData\",\n            style: {\n              float: 'left',\n              marginTop: '5px'\n            },\n            name: \"search\",\n            placeholder: this.state.searchBy,\n            onKeyUp: this.search\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"cars\",\n            id: \"cars\",\n            onChange: this.search,\n            class: \"btn btn-primary pull-left\",\n            style: {\n              float: 'left',\n              marginTop: '5px',\n              marginLeft: '5px'\n            },\n            onClick: this.selectSearchType,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Employee ID\",\n              children: \"Search by\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Employee ID\",\n              children: \"EmployeeID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Employee name\",\n              children: \"Employee name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Employee email\",\n              children: \"Employee email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Total Money\",\n              children: \"Total Money\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            onClick: this.search,\n            class: \"btn btn-primary pull-left\",\n            style: {\n              marginLeft: '5px',\n              height: \"30px\",\n              marginTop: '5px'\n            },\n            \"data-title\": \"Signout\",\n            \"data-toggle\": \"modal\",\n            \"data-target\": \"#ssignout\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"fa fa-search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 215\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          onClick: this.downloadReport,\n          class: \"btn btn-primary pull-left\",\n          style: {\n            marginLeft: '5px',\n            height: \"30px\",\n            marginTop: '5px'\n          },\n          \"data-title\": \"Signout\",\n          \"data-toggle\": \"modal\",\n          \"data-target\": \"#ssignout\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"fa fa-download\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 229\n          }, this), \" Download Report\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            id: \"mytable\",\n            class: \"table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Employee ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"No of meals\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 267,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Total Money\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 268,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 18\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              style: {\n                height: \"360px\"\n              },\n              children: this.state.users.map(user => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: user.id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: user.employeeName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: user.email\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    class: \"label label-info\",\n                    children: user.noOfMeals\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 292,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    class: \"label label-info\",\n                    children: user.totalMoney\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 293,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 26\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 14\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(Footer, {\n          pageNo: this.state.pageNo,\n          selectRowsPerPage: this.selectRowsPerPage,\n          rowsPerPage: this.state.rowsPerPage,\n          startPage: this.state.startPage,\n          data: 0,\n          backward: this.backward,\n          previousPage: this.previousPage,\n          nextPage: this.nextPage,\n          forward: this.forward\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 10\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(DownloadErrorDialog, {\n        open: this.state.openDownloadErrorDialog,\n        closeWindow: this.closeDownloadError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(ConfirmDownload, {\n        open: this.state.confirmDialog,\n        closeWindow: this.closeConfirmDialog,\n        download: this.downloadHelper\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true);\n  }\n\n} //SelectedEmployees is a array which holds the employee id which are selected to send an notification\n//Uncheck and change the notified text to YES because these SelectedEmployees has sent a notification\n\nfunction uncheck(SelectedEmployees) {\n  //console.log(\"Unchecking\",SelectedEmployees.length)\n  if (SelectedEmployees.length != 0 && SelectedEmployees.length != undefined) {\n    SelectedEmployees.forEach(employee => {\n      let checkBox = document.getElementById(employee);\n      checkBox.checked = false;\n      checkBox.disabled = true;\n      checkBox.parentElement.parentElement.lastElementChild.innerHTML = 'Submitted'; //console.log(document.getElementById(parseInt(employee)+\"n\"),\"..\",employee)\n      // document.getElementById(\"notified\").className='label label-primary'\n      // console.log(document.getElementById(\"notified\").className,\"..\")\n    });\n  }\n}\n\nfunction releasingEmployees() {\n  SelectedEmployees = [];\n}\n\nfunction isSelected() {\n  if (SelectedEmployees.length == 0) {\n    return false;\n  }\n\n  return true;\n}\n\nexport { uncheck, releasingEmployees, isSelected };","map":{"version":3,"sources":["C:/Users/vchava/OneDrive - MODEL N, INC/Desktop/mp_front/MealPlanner_FrontEnd/src/components/FinanaceTeam/EmployeeDetsils.jsx"],"names":["React","useState","Employee","MealDetails","DownloadErrorDialog","ConfirmDownload","Footer","SelectedEmployees","Users","ShowUsers","TABLE_HEAD","TEMPORERY_SIZE","EmployeeMealDetails","Component","constructor","props","state","users","searchBy","openDownloadErrorDialog","pageNo","startPage","endPage","pageSize","confirmDialog","search","bind","downloadReport","closeDownloadError","downloadHelper","selectSearchType","selectRowsPerPage","getData","nextPage","closeConfirmDialog","backward","previousPage","forward","componentDidMount","console","log","getEmployeeMealDates","then","Response","data","content","map","user","Math","floor","random","setState","searchData","document","getElementById","value","undefined","userNumber","length","String","id","includes","push","employeeName","toUpperCase","email","totalMoney","e","target","csvData","each","getUsers","forEach","row","noOfMeals","hiddenElement","createElement","href","encodeURI","download","click","selectedRows","render","float","marginTop","marginLeft","height","rowsPerPage","uncheck","employee","checkBox","checked","disabled","parentElement","lastElementChild","innerHTML","releasingEmployees","isSelected"],"mappings":"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","sourcesContent":["import React , { useState } from 'react'\r\nimport '../Vender/css/App.css'\r\nimport Employee from './data/Employee';\r\nimport MealDetails from './data/MealDetails';\r\nimport DownloadErrorDialog, { ConfirmDownload } from './DownloadErrorDialog';\r\nimport Footer from './footer';\r\n\r\nvar SelectedEmployees=[]\r\nvar Users=[];\r\nvar ShowUsers=[]\r\nlet TABLE_HEAD=['Employee ID','Name','Email','No of Meals','Total money']\r\nvar TEMPORERY_SIZE=12;\r\nexport default class EmployeeMealDetails extends React.Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            users:[],\r\n            ShowUsers:[],\r\n            searchBy:'Employee ID',\r\n            openDownloadErrorDialog:false,\r\n            pageNo:1,\r\n            startPage:1,\r\n            endPage:10,\r\n            pageSize:5,\r\n            confirmDialog:false\r\n        }\r\n        this.search=this.search.bind(this);\r\n        this.search=this.search.bind(this);\r\n        this.downloadReport=this.downloadReport.bind(this)\r\n        this.closeDownloadError=this.closeDownloadError.bind(this)\r\n        this.downloadHelper=this.downloadHelper.bind(this)\r\n        this.selectSearchType=this.selectSearchType.bind(this);\r\n        this.selectRowsPerPage=this.selectRowsPerPage.bind(this);\r\n        this.getData=this.getData.bind(this);\r\n        this.nextPage=this.nextPage.bind(this);\r\n        this.closeConfirmDialog=this.closeConfirmDialog.bind(this)\r\n        this.backward=this.backward.bind(this);\r\n        this.previousPage=this.previousPage.bind(this);\r\n        this.forward=this.forward.bind(this)\r\n    }\r\n\r\n    \r\n    componentDidMount(){\r\n        this.getData(this.state.pageNo,this.state.pageSize);\r\n    };\r\n\r\n    getData(pageNo,pageSize){\r\n        console.log(pageNo,pageSize)\r\n        MealDetails.getEmployeeMealDates(pageNo,pageSize).then((Response)=> {\r\n            console.log( Response.data)\r\n            Response.data.content.map(\r\n                user=>{\r\n                    user['noOfMeals']=Math.floor(Math.random() * 30)\r\n                    if(user['noOfMeals']<=12){\r\n                        user['totalMoney']=1000\r\n                    }else{\r\n                        user['totalMoney']=user['noOfMeals'] * 75\r\n                    }\r\n                    \r\n                }\r\n            )\r\n            this.setState({users:Response.data.content})\r\n            Users=this.state.users\r\n        });\r\n    }\r\n\r\n      /**\r\n     * Search the employees based on employeeID\r\n     * Function defination:\r\n     *      First store all the employeeDetails in one global varible rather than state varibale then \r\n     *    whenever the vendor searchs the based on employeeID then remove all the employee other than the\r\n     *    that employeeID. If the search text is empty then all the employeeDetails will be displayed\r\n     *      {or}\r\n     *      Add keyboard event listner and remove the search button which will execute this event whenever \r\n     *    the vender releases key and then do the same procedure as in the above\r\n     */\r\n    /**\r\n     * Yet to be defined\r\n     */\r\n     search() {\r\n        let searchData = document.getElementById('searchData').value\r\n        console.log('value..',searchData,this.state.users)\r\n        if(searchData==''||searchData==undefined){\r\n            this.state.users=Users\r\n            this.setState({ShowUsers:[0]})\r\n            return;\r\n        }\r\n        this.state.users=[]\r\n        switch(this.state.searchBy){\r\n            case \"Employee ID\":\r\n                for(let userNumber=0;userNumber<Users.length;userNumber++){\r\n                    if(searchData!='' && String(Users[userNumber].id).includes(searchData)){\r\n                        this.state.users.push(Users[userNumber])\r\n                    }\r\n                }\r\n                break;\r\n            case \"Employee name\":\r\n                for(let userNumber=0;userNumber<Users.length;userNumber++){\r\n                    if(Users[userNumber].employeeName.toUpperCase().includes(searchData.toUpperCase())){\r\n                        this.state.users.push(Users[userNumber])\r\n                    }\r\n                }\r\n                break;\r\n            case \"Employee email\":\r\n                for(let userNumber=0;userNumber<Users.length;userNumber++){\r\n                    if(Users[userNumber].email.toUpperCase().includes(searchData.toUpperCase())){\r\n                        this.state.users.push(Users[userNumber])\r\n                    }\r\n                }\r\n                break;\r\n\r\n                case \"Total Money\":\r\n                    for(let userNumber=0;userNumber<Users.length;userNumber++){\r\n                        if(searchData!='' && String(Users[userNumber].totalMoney).includes(searchData)){\r\n                            this.state.users.push(Users[userNumber])\r\n                        }\r\n                    }\r\n                    break;\r\n            default:\r\n                console.log(\"In default\")\r\n                this.state.users=Users\r\n                break;\r\n        }\r\n        this.setState({ShowUsers:[0]})\r\n        console.log(\"...\",this.state.users,searchData)\r\n    }\r\n\r\n\r\n    selectSearchType(e){\r\n        this.setState({searchBy:e.target.value})\r\n        console.log(this.state.searchBy)\r\n    }\r\n\r\n    \r\n//create a user-defined function to download CSV file \r\n downloadReport() {\r\n     \r\n    if(this.state.users.length==0){\r\n      this.setState({openDownloadErrorDialog:true})\r\n      console.log('downloading error')\r\n      return;\r\n    }else{\r\n        this.setState({confirmDialog:true})\r\n    }\r\n    \r\n  }\r\n\r\n  closeConfirmDialog(){\r\n    this.setState({confirmDialog:false})\r\n}\r\n  \r\n   downloadHelper(){\r\n    \r\n    var csvData=TABLE_HEAD[0];\r\n     //define the heading for each row of the data\r\n     for(let each=1;each<TABLE_HEAD.length;each=each+1){\r\n         csvData=csvData+','+TABLE_HEAD[each]\r\n     }\r\n     csvData=csvData+'\\n'\r\n     let data=this.state.users;\r\n     Employee.getUsers().then(Response=>{\r\n         Response.data.map(user=>{\r\n            user['noOfMeals']=Math.floor(Math.random() * 30)\r\n            if(user['noOfMeals']<=12){\r\n                user['totalMoney']=1000\r\n            }else{\r\n                user['totalMoney']=user['noOfMeals'] * 75\r\n            }\r\n            \r\n        })\r\n        data=Response.data;\r\n        console.log(data)\r\n        console.log(this.state.users)\r\n        data.forEach(function(row) {\r\n            console.log(typeof row)\r\n         csvData += row.id+','+row.employeeName+','+ row.email+','+row.noOfMeals+','+ row.totalMoney+',';\r\n         csvData += \"\\n\";\r\n        });\r\n        var hiddenElement = document.createElement('a');\r\n        hiddenElement.href = 'data:text/csv;charset=utf-8,' + encodeURI(csvData);\r\n        hiddenElement.target = '_blank';\r\n        \r\n        //provide the name for the CSV file to be downloaded\r\n        hiddenElement.download = 'Meal Report.csv';\r\n        hiddenElement.click();\r\n     })\r\n     \r\n    \r\n\r\n  }\r\n\r\n  closeDownloadError(){\r\n      this.setState({openDownloadErrorDialog:false})\r\n  }\r\n\r\n  \r\n  selectRowsPerPage(pageNo,selectedRows){\r\n      this.state.pageSize=selectedRows;\r\n      console.log(\"rowsPerChange is Chaniging\");\r\n          this.getData(pageNo,selectedRows); \r\n  }\r\n  \r\n  backward(){\r\n      if(this.state.pageNo-2>0){\r\n        this.state.pageNo=this.state.pageNo-2\r\n        this.getData(this.state.pageNo,this.state.selectedRows); \r\n      }\r\n  }\r\n\r\n  previousPage(){\r\n    if(this.state.pageNo-1>0){\r\n        this.state.pageNo=this.state.pageNo-1\r\n        this.getData(this.state.pageNo,this.state.pageSize); \r\n      }\r\n  }\r\n//Get the length of  data present in database\r\n\r\n  nextPage(){\r\n      console.log('change size to dynamic')\r\n    if(this.state.pageNo+1<TEMPORERY_SIZE){\r\n        this.state.pageNo=this.state.pageNo+1\r\n        this.getData(this.state.pageNo,this.state.pageSize); \r\n      }\r\n  }\r\n\r\n  forward(){\r\n    console.log('change size to dynamic')\r\n    if(this.state.pageNo+2<TEMPORERY_SIZE){\r\n        this.state.pageNo=this.state.pageNo+2\r\n        this.getData(this.state.pageNo,this.state.pageSize); \r\n      }\r\n  }\r\n  \r\n\r\n    render(){\r\n        //console.log(\"This is in body page\")\r\n        return (\r\n            <>\r\n            <div id=\"employeeInformation\">\r\n            <link href=\"//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css\" rel=\"stylesheet\" id=\"bootstrap-css\"/>\r\n             <script src=\"//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js\"/>\r\n             <script src=\"//code.jquery.com/jquery-1.11.1.min.js\"/>\r\n             <div>\r\n             <input type=\"text\" id=\"searchData\" style={{float:'left' , marginTop:'5px'}} name=\"search\" placeholder={this.state.searchBy} onKeyUp={this.search}/>\r\n             <select name=\"cars\" id=\"cars\" onChange={this.search} class=\"btn btn-primary pull-left\" style={{ float: 'left', marginTop: '5px', marginLeft: '5px' }} onClick={this.selectSearchType}>\r\n                                <option value=\"Employee ID\">Search by</option>\r\n                                <option value=\"Employee ID\">EmployeeID</option>\r\n                                <option value=\"Employee name\">Employee name</option>\r\n                                <option value=\"Employee email\">Employee email</option>\r\n                                <option value=\"Total Money\">Total Money</option>\r\n                            </select>\r\n            <button type=\"submit\" onClick={this.search} class=\"btn btn-primary pull-left\" style={{marginLeft:'5px' ,height:\"30px\", marginTop:'5px'}} data-title=\"Signout\" data-toggle=\"modal\" data-target=\"#ssignout\"><i class=\"fa fa-search\"></i></button>\r\n             </div>\r\n            \r\n             <button type=\"submit\" onClick={this.downloadReport} class=\"btn btn-primary pull-left\" style={{ marginLeft: '5px', height: \"30px\", marginTop: '5px' }} data-title=\"Signout\" data-toggle=\"modal\" data-target=\"#ssignout\"><i class=\"fa fa-download\"></i> Download Report</button>\r\n            \r\n        \r\n             <div >\r\n   \r\n             <table id=\"mytable\" class=\"table\" >\r\n             <thead>\r\n                 <tr>\r\n                    {/* <th><input type=\"checkbox\" id=\"checkall\" /></th> */}\r\n                    <th >Employee ID</th>\r\n                    <th>Name</th>\r\n                    <th>Email</th>\r\n                    <th >No of meals</th>\r\n                    <th>Total Money</th>\r\n                  \r\n                 </tr>\r\n             </thead>\r\n             <tbody style={{height:\"360px\"}} >\r\n                \r\n                 {\r\n                     this.state.users.map(\r\n                         user=>\r\n                         <tr>\r\n                            {/* \r\n                            \r\n                            SelectedEmployees.map(\r\n                      user=>\r\n                      <tr >\r\n                         <td>{Users[user-1].id}</td>\r\n                         <td>{Users[user-1].login}</td>\r\n                         <td>{Users[user-1].url}</td>\r\n                    </tr> \r\n                            \r\n                            <td><input type=\"checkbox\" id={user.id} class=\"checkthis\" onClick={this.setEmployes}/></td> */}\r\n                            <td>{user.id}</td>\r\n                            <td>{user.employeeName}</td>\r\n                            <td>{user.email}</td>         \r\n                            <td><span class=\"label label-info\">{user.noOfMeals}</span></td>\r\n                            <td><span class=\"label label-info\">{user.totalMoney}</span></td>\r\n                            \r\n                 </tr>\r\n                    )\r\n                 }\r\n                 \r\n             </tbody>\r\n         </table>\r\n         </div>\r\n         <Footer   pageNo={this.state.pageNo} selectRowsPerPage={this.selectRowsPerPage} rowsPerPage={this.state.rowsPerPage} startPage={this.state.startPage} data={0} backward={this.backward} previousPage={this.previousPage} nextPage={this.nextPage} forward={this.forward}/>\r\n     \r\n         </div>\r\n         <DownloadErrorDialog open={this.state.openDownloadErrorDialog} closeWindow={this.closeDownloadError} />\r\n         <ConfirmDownload open={this.state.confirmDialog} closeWindow={this.closeConfirmDialog} download={this.downloadHelper} />\r\n            \r\n          </>\r\n        );\r\n    }\r\n}\r\n\r\n//SelectedEmployees is a array which holds the employee id which are selected to send an notification\r\n//Uncheck and change the notified text to YES because these SelectedEmployees has sent a notification\r\n function uncheck(SelectedEmployees){\r\n     //console.log(\"Unchecking\",SelectedEmployees.length)\r\n     if(SelectedEmployees.length!=0 && SelectedEmployees.length!=undefined){\r\n        SelectedEmployees.forEach(employee => {\r\n            let checkBox=document.getElementById(employee)\r\n            checkBox.checked=false\r\n            checkBox.disabled=true\r\n            checkBox.parentElement.parentElement.lastElementChild.innerHTML='Submitted'\r\n            \r\n            //console.log(document.getElementById(parseInt(employee)+\"n\"),\"..\",employee)\r\n            // document.getElementById(\"notified\").className='label label-primary'\r\n            // console.log(document.getElementById(\"notified\").className,\"..\")\r\n        \r\n        });\r\n}\r\n}\r\nfunction releasingEmployees(){\r\n    SelectedEmployees=[]\r\n}\r\n\r\nfunction isSelected(){\r\n    if(SelectedEmployees.length==0){\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n\r\n\r\nexport {uncheck ,releasingEmployees , isSelected}"]},"metadata":{},"sourceType":"module"}